{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://2048/./js/util.js","webpack://2048/./js/timer.js","webpack://2048/./js/board.js"],"sourcesContent":["function equalArrays(a, b) {\n\tif (a.length != b.length) return false;\n\tfor (var i = 0; i < a.length; i++)\n\t\tif (a[i] !== b[i]) return false;\n\treturn true;\n}\n\nexport { equalArrays }","let base = 60;\nlet clocktimer, dateObj, dh, dm, ds;\nlet readout = '';\nlet h = 1,\n\tm = 1,\n\ttm = 1,\n\ts = 0,\n\tts = 0,\n\tms = 0,\n\tinit = 0;\n\n\nfunction ClearСlock() {\n\tclearTimeout(clocktimer);\n\th = 1;\n\tm = 1;\n\ttm = 1;\n\ts = 0;\n\tts = 0;\n\tms = 0;\n\tinit = 0;\n\treadout = '00:00:00.00';\n\tdocument.userData.stopwatch.value = readout;\n}\n\n\nfunction StartTIME() {\n\tlet cdateObj = new Date();\n\tlet t = (cdateObj.getTime() - dateObj.getTime()) - (s * 1000);\n\tif (t > 999) {\n\t\ts++;\n\t}\n\tif (s >= (m * base)) {\n\t\tts = 0;\n\t\tm++;\n\t} else {\n\t\tts = parseInt((ms / 100) + s);\n\t\tif (ts >= base) {\n\t\t\tts = ts - ((m - 1) * base);\n\t\t}\n\t}\n\tif (m > (h * base)) {\n\t\ttm = 1;\n\t\th++;\n\t} else {\n\t\ttm = parseInt((ms / 100) + m);\n\t\tif (tm >= base) {\n\t\t\ttm = tm - ((h - 1) * base);\n\t\t}\n\t}\n\tms = Math.round(t / 10);\n\tif (ms > 99) {\n\t\tms = 0;\n\t}\n\tif (ms == 0) {\n\t\tms = '00';\n\t}\n\tif (ms > 0 && ms <= 9) {\n\t\tms = '0' + ms;\n\t}\n\tif (ts > 0) {\n\t\tds = ts;\n\t\tif (ts < 10) {\n\t\t\tds = '0' + ts;\n\t\t}\n\t} else {\n\t\tds = '00';\n\t}\n\tdm = tm - 1;\n\tif (dm > 0) {\n\t\tif (dm < 10) {\n\t\t\tdm = '0' + dm;\n\t\t}\n\t} else {\n\t\tdm = '00';\n\t}\n\tdh = h - 1;\n\tif (dh > 0) {\n\t\tif (dh < 10) {\n\t\t\tdh = '0' + dh;\n\t\t}\n\t} else {\n\t\tdh = '00';\n\t}\n\treadout = dh + ':' + dm + ':' + ds + '.' + ms;\n\tdocument.userData.stopwatch.value = readout;\n\tclocktimer = setTimeout(() => StartTIME(), 1);\n}\n\n\nfunction StartStop() {\n\tif (init == 0) {\n\t\tClearСlock();\n\t\tdateObj = new Date();\n\t\tStartTIME();\n\t\tinit = 1;\n\t} else {\n\t\tclearTimeout(clocktimer);\n\t\tinit = 0;\n\t}\n}\n\nfunction Start() {\n\tClearСlock();\n\tdateObj = new Date();\n\tStartTIME();\n\tinit = 1;\n}\n\nexport { StartStop, Start }","import { equalArrays } from './util.js';\nimport { StartStop, Start } from './timer.js';\n\nlet startGameBtn = document.querySelector('#start-game');\nlet playerName = document.querySelector('#player-name');\nlet gridDisplay = document.querySelector('.grid');\nlet scoreDispaly = document.querySelector('.score');\nlet resultDisplay = document.querySelector('.status');\nlet resultTemp = document.querySelector('#results-template');\nlet resultsList = document.querySelector('.results');\nlet width = 5;\nlet squares = [];\nlet score;\nlet isChange;\nlet endMouseX;\nlet endMouseY;\nlet mouseX;\nlet mouseY;\nlet startX;\nlet startY;\n\nstartGameBtn.addEventListener('click', startGame);\n\nfunction startGame() {\n\tif (playerName.checkValidity()) {\n\t\tdocument.userData.stopwatch.value = '00:00:00.00';\n\t\tscore = 0;\n\t\tscoreDispaly.innerHTML = 0;\n\t\tcreateBoard();\n\t\tStart();\n\t} else {\n\t\talert('Введите имя!');\n\t}\n}\n\nfunction createBoard() {\n\tresultDisplay.innerHTML = null;\n\tgridDisplay.innerHTML = null;\n\tgridDisplay.style = 'opacity: 1';\n\tsquares.splice(0, width * width);\n\tfor (let i = 0; i < width * width; i++) {\n\t\tlet square = document.createElement('div');\n\t\tsquare.innerHTML = 0;\n\t\tgridDisplay.appendChild(square);\n\t\tsquares.push(square);\n\t}\n\tgenerate();\n\tgenerate();\n\tgridDisplay.addEventListener('mousedown', mouseDown);\n\tdocument.addEventListener('keydown', keyControl);\n\tgridDisplay.addEventListener('touchstart', startTouchControl);\n\tgridDisplay.addEventListener('touchend', endTouchControl);\n\tgridDisplay.addEventListener('mouseup', mouseUp);\n}\n\nfunction generateNum() {\n\tlet number = Math.random();\n\tif (number >= 0.9) {\n\t\treturn 4;\n\t} else {\n\t\treturn 2;\n\t}\n}\n\nfunction draw() {\n\tfor (let i = 0; i < width * width; i++) {\n\t\tsquares[i].removeAttribute('class');\n\t\tif (squares[i].textContent !== '0') {\n\t\t\tsquares[i].classList.add('x' + squares[i].textContent);\n\t\t}\n\t}\n}\n\nfunction generate() {\n\tlet randomSquare = Math.floor(Math.random() * squares.length);\n\tif (squares[randomSquare].innerHTML == 0) {\n\t\tsquares[randomSquare].innerHTML = generateNum();\n\t} else {\n\t\tgenerate();\n\t}\n\tdraw();\n}\n\nfunction moveRight() {\n\tfor (let i = 0; i < 25; i++) {\n\t\tif (i % 5 === 0) {\n\t\t\tlet totalOne = squares[i].innerHTML;\n\t\t\tlet totalTwo = squares[i + 1].innerHTML;\n\t\t\tlet totalThree = squares[i + 2].innerHTML;\n\t\t\tlet totalFour = squares[i + 3].innerHTML;\n\t\t\tlet totalFive = squares[i + 4].innerHTML;\n\t\t\tlet row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n\t\t\tlet filteredRow = row.filter(num => num);\n\t\t\tlet missing = 5 - filteredRow.length;\n\t\t\tlet zeros = Array(missing).fill(0);\n\t\t\tlet newRow = zeros.concat(filteredRow);\n\t\t\tif (!(equalArrays(row, newRow))) {\n\t\t\t\tisChange = true;\n\t\t\t\tsquares[i].innerHTML = newRow[0];\n\t\t\t\tsquares[i + 1].innerHTML = newRow[1];\n\t\t\t\tsquares[i + 2].innerHTML = newRow[2];\n\t\t\t\tsquares[i + 3].innerHTML = newRow[3];\n\t\t\t\tsquares[i + 4].innerHTML = newRow[4];\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction moveLeft() {\n\tfor (let i = 0; i < 25; i++) {\n\t\tif (i % 5 === 0) {\n\t\t\tlet totalOne = squares[i].innerHTML;\n\t\t\tlet totalTwo = squares[i + 1].innerHTML;\n\t\t\tlet totalThree = squares[i + 2].innerHTML;\n\t\t\tlet totalFour = squares[i + 3].innerHTML;\n\t\t\tlet totalFive = squares[i + 4].innerHTML;\n\t\t\tlet row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n\t\t\tlet filteredRow = row.filter(num => num);\n\t\t\tlet missing = 5 - filteredRow.length;\n\t\t\tlet zeros = Array(missing).fill(0);\n\t\t\tlet newRow = filteredRow.concat(zeros);\n\t\t\tif (!(equalArrays(row, newRow))) {\n\t\t\t\tisChange = true;\n\t\t\t\tsquares[i].innerHTML = newRow[0];\n\t\t\t\tsquares[i + 1].innerHTML = newRow[1];\n\t\t\t\tsquares[i + 2].innerHTML = newRow[2];\n\t\t\t\tsquares[i + 3].innerHTML = newRow[3];\n\t\t\t\tsquares[i + 4].innerHTML = newRow[4];\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction moveDown() {\n\tfor (let i = 0; i < 5; i++) {\n\t\tlet totalOne = squares[i].innerHTML;\n\t\tlet totalTwo = squares[i + width].innerHTML;\n\t\tlet totalThree = squares[i + (width * 2)].innerHTML;\n\t\tlet totalFour = squares[i + (width * 3)].innerHTML;\n\t\tlet totalFive = squares[i + (width * 4)].innerHTML;\n\t\tlet column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n\t\tlet filteredColumn = column.filter(num => num);\n\t\tlet missing = 5 - filteredColumn.length;\n\t\tlet zeros = Array(missing).fill(0);\n\t\tlet newColumn = zeros.concat(filteredColumn);\n\t\tif (!(equalArrays(column, newColumn))) {\n\t\t\tisChange = true;\n\t\t\tsquares[i].innerHTML = newColumn[0];\n\t\t\tsquares[i + width].innerHTML = newColumn[1];\n\t\t\tsquares[i + (width * 2)].innerHTML = newColumn[2];\n\t\t\tsquares[i + (width * 3)].innerHTML = newColumn[3];\n\t\t\tsquares[i + (width * 4)].innerHTML = newColumn[4];\n\t\t}\n\t}\n}\n\nfunction moveUp() {\n\tfor (let i = 0; i < 5; i++) {\n\t\tlet totalOne = squares[i].innerHTML;\n\t\tlet totalTwo = squares[i + width].innerHTML;\n\t\tlet totalThree = squares[i + (width * 2)].innerHTML;\n\t\tlet totalFour = squares[i + (width * 3)].innerHTML;\n\t\tlet totalFive = squares[i + (width * 4)].innerHTML;\n\t\tlet column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n\t\tlet filteredColumn = column.filter(num => num);\n\t\tlet missing = 5 - filteredColumn.length;\n\t\tlet zeros = Array(missing).fill(0);\n\t\tlet newColumn = filteredColumn.concat(zeros);\n\t\tif (!(equalArrays(column, newColumn))) {\n\t\t\tisChange = true;\n\t\t\tsquares[i].innerHTML = newColumn[0];\n\t\t\tsquares[i + width].innerHTML = newColumn[1];\n\t\t\tsquares[i + (width * 2)].innerHTML = newColumn[2];\n\t\t\tsquares[i + (width * 3)].innerHTML = newColumn[3];\n\t\t\tsquares[i + (width * 4)].innerHTML = newColumn[4];\n\t\t}\n\t}\n}\n\nfunction combineRowLeft() {\n\tfor (let i = 0; i < 24; i++) {\n\t\tif (squares[i].innerHTML === squares[i + 1].innerHTML && squares[i].innerHTML != 0 && squares[i + 1].innerHTML != 0) {\n\t\t\tlet combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i + 1].innerHTML);\n\t\t\tsquares[i].innerHTML = combinedTotal;\n\t\t\tsquares[i + 1].innerHTML = 0;\n\t\t\tscore += combinedTotal;\n\t\t\tscoreDispaly.innerHTML = score;\n\t\t\tisChange = true;\n\t\t}\n\t}\n\tcheckForWin()\n}\n\nfunction combineRowRight() {\n\tfor (let i = 24; i > 0; i--) {\n\t\tif (squares[i].innerHTML === squares[i - 1].innerHTML && squares[i].innerHTML != 0 && squares[i - 1].innerHTML != 0) {\n\t\t\tlet combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i - 1].innerHTML);\n\t\t\tsquares[i].innerHTML = combinedTotal;\n\t\t\tsquares[i - 1].innerHTML = 0;\n\t\t\tscore += combinedTotal;\n\t\t\tscoreDispaly.innerHTML = score;\n\t\t\tisChange = true;\n\t\t}\n\t}\n\tcheckForWin();\n}\n\nfunction combineColumnUp() {\n\tfor (let i = 0; i < 20; i++) {\n\t\tif (squares[i].innerHTML === squares[i + width].innerHTML && squares[i].innerHTML != 0 && squares[i + width].innerHTML != 0) {\n\t\t\tlet combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i + width].innerHTML);\n\t\t\tsquares[i].innerHTML = combinedTotal;\n\t\t\tsquares[i + width].innerHTML = 0;\n\t\t\tscore += combinedTotal;\n\t\t\tscoreDispaly.innerHTML = score;\n\t\t\tisChange = true;\n\t\t}\n\t}\n\tcheckForWin();\n}\n\nfunction combineColumnDown() {\n\tfor (let i = 24; i > 4; i--) {\n\t\tif (squares[i].innerHTML === squares[i - width].innerHTML && squares[i].innerHTML != 0 && squares[i - width].innerHTML != 0) {\n\t\t\tlet combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i - width].innerHTML);\n\t\t\tsquares[i].innerHTML = combinedTotal;\n\t\t\tsquares[i - width].innerHTML = 0;\n\t\t\tscore += combinedTotal;\n\t\t\tscoreDispaly.innerHTML = score;\n\t\t\tisChange = true;\n\t\t}\n\t}\n\tcheckForWin();\n}\n\nfunction keyControl(evt) {\n\tif (evt.keyCode === 39) {\n\t\tevt.preventDefault();\n\t\tkeyRight();\n\t} else if (evt.keyCode === 37) {\n\t\tevt.preventDefault();\n\t\tkeyLeft();\n\t} else if (evt.keyCode === 38) {\n\t\tevt.preventDefault();\n\t\tkeyUp();\n\t} else if (evt.keyCode === 40) {\n\t\tevt.preventDefault();\n\t\tkeyDown();\n\t}\n}\n\nfunction addResult() {\n\tlet tempContent = resultTemp.content;\n\tlet newResult = tempContent.cloneNode(true);\n\tlet player = newResult.querySelector('.player');\n\tlet time = newResult.querySelector('.time');\n\tplayer.textContent = playerName.value;\n\ttime.textContent = document.userData.stopwatch.value;\n\tresultsList.appendChild(newResult);\n}\n\nfunction checkForWin() {\n\tfor (let i = 0; i < squares.length; i++) {\n\t\tif (squares[i].innerHTML == 2048) {\n\t\t\tStartStop();\n\t\t\taddResult();\n\t\t\tresultDisplay.innerHTML = 'Ты выиграл!';\n\t\t\tplayerName.value = '';\n\t\t\tgridDisplay.style = 'opacity: 0.5'\n\t\t\tstartGameBtn.addEventListener('click', startGame);\n\t\t\tgridDisplay.removeEventListener('mousedown', mouseDown);\n\t\t\tdocument.removeEventListener('keyup', keyControl);\n\t\t\tgridDisplay.removeEventListener('touchstart', startTouchControl);\n\t\t\tgridDisplay.removeEventListener('touchend', endTouchControl);\n\t\t\tgridDisplay.removeEventListener('mouseup', mouseUp);\n\t\t}\n\t}\n}\n\nfunction checkForGameOver() {\n\tlet zeros = 0;\n\tfor (let i = 0; i < squares.length; i++) {\n\t\tif (squares[i].innerHTML == 0) {\n\t\t\tzeros++;\n\t\t}\n\t}\n\n\tfor (let i = 0; i < (squares.length - 1); i++) {\n\t\tif (squares[i].innerHTML === squares[i + 1].innerHTML) {\n\t\t\tzeros++;\n\t\t}\n\t}\n\n\tfor (let i = 0; i < 20; i++) {\n\t\tif (squares[i].innerHTML === squares[i + width].innerHTML) {\n\t\t\tzeros++;\n\t\t}\n\t}\n\tif (zeros === 0) {\n\t\tStartStop();\n\t\tresultDisplay.innerHTML = 'Ты проиграл!';\n\t\tgridDisplay.style = 'opacity: 0.5';\n\t\tstartGameBtn.addEventListener('click', startGame);\n\t\tdocument.removeEventListener('keyup', keyControl);\n\t\tgridDisplay.removeEventListener('mousedown', mouseDown);\n\t\tdocument.removeEventListener('keyup', keyControl);\n\t\tgridDisplay.removeEventListener('touchstart', startTouchControl);\n\t\tgridDisplay.removeEventListener('touchend', endTouchControl);\n\t\tgridDisplay.removeEventListener('mouseup', mouseUp);\n\t}\n}\n\nfunction keyRight() {\n\tisChange = false;\n\tmoveRight();\n\tcombineRowRight();\n\tif (isChange) {\n\t\tgenerate();\n\t}\n\tmoveRight();\n\tdraw();\n\tcheckForGameOver();\n}\n\nfunction keyLeft() {\n\tisChange = false;\n\tmoveLeft();\n\tcombineRowLeft();\n\tif (isChange) {\n\t\tgenerate();\n\t}\n\tmoveLeft();\n\tdraw();\n\tcheckForGameOver();\n}\n\nfunction keyDown() {\n\tisChange = false;\n\tmoveDown();\n\tcombineColumnDown();\n\tif (isChange) {\n\t\tgenerate();\n\t}\n\tmoveDown();\n\tdraw();\n\tcheckForGameOver();\n}\n\nfunction keyUp() {\n\tisChange = false;\n\tmoveUp();\n\tcombineColumnUp();\n\tif (isChange) {\n\t\tgenerate();\n\t}\n\tmoveUp();\n\tdraw();\n\tcheckForGameOver();\n}\n\nfunction mouseDown(evt) {\n\tmouseX = evt.pageX;\n\tmouseY = evt.pageY;\n\tif (evt.which == 1) {\n\t\taddMouseMove();\n\t}\n}\n\nfunction addMouseMove() {\n\tgridDisplay.addEventListener('mousemove', evt => {\n\t\tevt.preventDefault();\n\t\tendMouseX = evt.pageX;\n\t\tendMouseY = evt.pageY;\n\t});\n}\n\nfunction removeMouseMove() {\n\tendMouseX = 0;\n\tendMouseY = 0;\n\tgridDisplay.removeEventListener('mousemove', evt => {\n\t\tevt.preventDefault();\n\t\tendMouseX = evt.pageX;\n\t\tendMouseY = evt.pageY;\n\t});\n}\n\nfunction mouseUp(evt) {\n\tif (evt.which == 1) {\n\t\tevt.preventDefault();\n\t\tlet x = endMouseX - mouseX;\n\t\tlet y = endMouseY - mouseY;\n\t\tlet absX = Math.abs(x) > Math.abs(y);\n\t\tlet absY = Math.abs(y) > Math.abs(x);\n\n\t\tif (x > 0 && absX) {\n\t\t\tkeyRight();\n\t\t}\n\t\telse if (x < 0 && absX) {\n\t\t\tkeyLeft();\n\t\t}\n\t\telse if (y > 0 && absY) {\n\t\t\tkeyDown();\n\t\t}\n\t\telse if (y < 0 && absY) {\n\t\t\tkeyUp();\n\t\t}\n\t\tremoveMouseMove();\n\t}\n}\n\nfunction startTouchControl(evt) {\n\tif (evt.cancelable) {\n\t\tevt.preventDefault();\n\t\tstartX = evt.touches[0].pageX;\n\t\tstartY = evt.touches[0].pageY;\n\t}\n}\n\nfunction endTouchControl(evt) {\n\tif (evt.cancelable) {\n\t\tevt.preventDefault();\n\t\tlet endX = evt.changedTouches[0].pageX;\n\t\tlet endY = evt.changedTouches[0].pageY;\n\t\tlet x = endX - startX;\n\t\tlet y = endY - startY;\n\t\tlet absX = Math.abs(x) > Math.abs(y);\n\t\tlet absY = Math.abs(y) > Math.abs(x);\n\t\tif (x > 0 && absX) {\n\t\t\tkeyRight();\n\t\t}\n\t\telse if (x < 0 && absX) {\n\t\t\tkeyLeft();\n\t\t}\n\t\telse if (y > 0 && absY) {\n\t\t\tkeyDown();\n\t\t}\n\t\telse if (y < 0 && absY) {\n\t\t\tkeyUp();\n\t\t}\n\t}\n}"],"names":["equalArrays","a","b","length","i","clocktimer","dateObj","dh","dm","ds","base","readout","h","m","tm","s","ts","ms","init","clearTimeout","document","userData","stopwatch","value","StartTIME","t","Date","getTime","parseInt","Math","round","setTimeout","StartStop","score","isChange","endMouseX","endMouseY","mouseX","mouseY","startX","startY","startGameBtn","querySelector","playerName","gridDisplay","scoreDispaly","resultDisplay","resultTemp","resultsList","squares","startGame","checkValidity","innerHTML","style","splice","width","square","createElement","appendChild","push","generate","addEventListener","mouseDown","keyControl","startTouchControl","endTouchControl","mouseUp","createBoard","alert","draw","removeAttribute","textContent","classList","add","randomSquare","floor","random","moveRight","totalOne","totalTwo","totalThree","totalFour","totalFive","row","filteredRow","filter","num","missing","newRow","Array","fill","concat","moveLeft","zeros","moveDown","column","filteredColumn","newColumn","moveUp","evt","keyCode","preventDefault","keyRight","keyLeft","keyUp","keyDown","addResult","newResult","content","cloneNode","player","time","checkForWin","removeEventListener","checkForGameOver","combinedTotal","combineRowRight","combineRowLeft","combineColumnDown","combineColumnUp","pageX","pageY","which","x","y","absX","abs","absY","cancelable","touches","endX","changedTouches","endY"],"sourceRoot":""}